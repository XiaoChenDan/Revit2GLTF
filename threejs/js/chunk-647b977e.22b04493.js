(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-647b977e"],{6908:function(e,t,a){"use strict";a.r(t);var n=a("f2bf"),c=a("d009"),l=a("9ee5"),o=Object(n.defineComponent)({name:"House"});const r={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328 192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1)];var i=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",r,s)}]]);o=Object(n.defineComponent)({name:"FullScreen"});const d={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1)];var u=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",d,b)}]]);o=Object(n.defineComponent)({name:"Camera"});const m={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1)];var j=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",m,O)}]]);o=Object(n.defineComponent)({name:"Crop"});const p={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},h=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0v672z"},null,-1),Object(n.createElementVNode)("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32z"},null,-1)];var f=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",p,h)}]]);o=Object(n.defineComponent)({name:"EditPen"});const v={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C=[Object(n.createElementVNode)("path",{d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z",fill:"currentColor"},null,-1)];var w=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",v,C)}]]);o=Object(n.defineComponent)({name:"UserFilled"});const V={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1)];var x=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",V,g)}]]);o=Object(n.defineComponent)({name:"VideoCamera"});const k={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1)];var z=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",k,N)}]]);o=Object(n.defineComponent)({name:"Edit"});const B={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},E=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),Object(n.createElementVNode)("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1)];var y=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",B,E)}]]);o=Object(n.defineComponent)({name:"MapLocation"});const _={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M=[Object(n.createElementVNode)("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Object(n.createElementVNode)("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256zm345.6 192L960 960H672v-64H352v64H64l102.4-256h691.2zm-68.928 0H235.328l-76.8 192h706.944l-76.8-192z"},null,-1)];var A=Object(l.a)(o,[["render",function(e,t,a,c,l,o){return Object(n.openBlock)(),Object(n.createElementBlock)("svg",_,M)}]]),D=a("57c3"),H=a("afeb"),L=a("5a50");const P={class:"toolbar"},F={id:"carouselMenu",style:{display:"none"}},I={class:"menubuttons"},T=Object(n.createTextVNode)(" 新建 "),G=Object(n.createTextVNode)(" 拍摄 "),U=Object(n.createTextVNode)(" 播放 "),R={class:"scrollbar-flex-content"},J=["src"];l=Object(n.defineComponent)({setup(e,{expose:t}){Object(n.onMounted)(()=>{X("显示地图",c.a.scene.showMap)});const a=Object(n.ref)([""]),l=["全屏","正交","剖切","测量","漫游","录制","材质编辑","模型编辑","显示地图"],o=Object(n.ref)([]),r=Object(n.ref)(""),s=()=>{for(const t of c.a.scene.mapModels.values()){var e=t.boundingBox.clone();e.applyMatrix4(t.rootObject.matrix),c.a.scene.setCameraByBoxAndRotateTo(e,2*Math.PI,Math.PI/4);break}};let d=!1;const b=e=>{d=!d;var t=document.documentElement;d?t.requestFullscreen():document.exitFullscreen()};let m=!1;const O=e=>{m=!m,c.a.scene.setOrthogonal(m)};let p=!1;const h=e=>{p=!p,c.a.scene.setSection(p)};let v=!1;const C=e=>{(v=!v)?c.a.runCommand(D.a.Roam):c.a.runCommand(D.a.Base)};let V=!1;const g=e=>{V=!V,o.value=[],o.value=c.a.scene.pathAnimations,0==c.a.scene.pathAnimations.length&&(c.a.scene.newCapture(),r.value=c.a.scene.curPathAnimation.name),document.getElementById("carouselMenu").style.display=V?"":"none"},k=e=>{o.value=[],c.a.scene.captureFinish(),c.a.scene.newCapture(),o.value=c.a.scene.pathAnimations,r.value=c.a.scene.curPathAnimation.name},N=(e,t)=>{e=Number(e.index),c.a.scene.curPathAnimation=c.a.scene.pathAnimations[e]},B=()=>{o.value=[],c.a.scene.capture(),o.value=c.a.scene.pathAnimations,r.value=c.a.scene.curPathAnimation.name},E=()=>{c.a.scene.curPathAnimation.play(c.a.scene.curPathAnimation.selIndex)},_=e=>{for(let t=0;t<c.a.scene.pathAnimations.length;t++)if(c.a.scene.pathAnimations[t].name==e){o.value=[],c.a.scene.pathAnimations.splice(t,1),0<c.a.scene.pathAnimations.length&&(r.value=c.a.scene.pathAnimations[0].name,c.a.scene.curPathAnimation=c.a.scene.pathAnimations[0]),o.value=c.a.scene.pathAnimations;break}};let M=!1;const S=()=>{if(M=!M){K=!1,c.a.runCommand(D.a.MaterialEdit);let e=[];a.value.forEach(t=>{t!=l[7]&&e.push(t)}),a.value=e}else c.a.runCommand(D.a.Base)};let q,K=!1;const Q=()=>{c.a.scene.showMap=!c.a.scene.showMap,W()},W=()=>{var e,t;if(null==q&&(e={"经度":0,"维度":0,"高度":0,"角度":0},(t=document.getElementById("container")).style.marginLeft,(q=new H.a).domElement.style.position="absolute",q.domElement.style.left="50%",q.domElement.style.top="5px",q.domElement.style.marginLeft="-122px",t.appendChild(q.domElement),t.style.display,q.root.title("经纬度设置"),q.add(e,"经度",-180,180).onFinishChange(e=>{for(const t of c.a.scene.mapModels.values()){t.gisData.longitude=e,t.setGisData(t.gisData);break}}),q.add(e,"维度",-90,90).onFinishChange(e=>{for(const t of c.a.scene.mapModels.values()){t.gisData.latitude=e,t.setGisData(t.gisData);break}}),q.add(e,"高度",-1e3,1e3).onFinishChange(e=>{for(const t of c.a.scene.mapModels.values()){t.gisData.height=e,t.setGisData(t.gisData);break}}),q.add(e,"角度",-180,180).onFinishChange(e=>{for(const t of c.a.scene.mapModels.values()){t.gisData.rotation=e,t.setGisData(t.gisData);break}})),c.a.scene.showMap){for(const e of c.a.scene.mapModels.values()){null==e.gisData&&(e.gisData=new L.a,e.setGisData(e.gisData)),q.children[0].setValue(e.gisData.longitude),q.children[1].setValue(e.gisData.latitude),q.children[2].setValue(e.gisData.height),q.children[3].setValue(e.gisData.rotation);break}q.domElement.style.display=""}else q.domElement.style.display="none";c.a.scene.enableRender()},X=(e,t)=>{if("显示地图"==e&&W(),1==t)-1==a.value.indexOf(e)&&a.value.push(e);else{let n=[];a.value.forEach(a=>{0==t&&a!=e&&n.push(a)}),a.value=n}};let Y=!1;const Z=e=>{(Y=!Y)?c.a.runCommand(D.a.Measure):c.a.runCommand(D.a.Base)};return t({showToolbar:X}),(e,t)=>{const d=Object(n.resolveComponent)("el-button"),m=Object(n.resolveComponent)("el-tooltip"),p=Object(n.resolveComponent)("el-card"),v=Object(n.resolveComponent)("el-radio-button"),V=Object(n.resolveComponent)("el-radio-group"),M=Object(n.resolveComponent)("el-scrollbar"),D=Object(n.resolveComponent)("el-tab-pane");var H=Object(n.resolveComponent)("el-tabs");const L=Object(n.resolveComponent)("el-icon"),q=Object(n.resolveComponent)("el-checkbox-button");var K=Object(n.resolveComponent)("el-checkbox-group");return Object(n.openBlock)(),Object(n.createElementBlock)("div",P,[Object(n.createElementVNode)("div",F,[Object(n.createElementVNode)("div",I,[Object(n.createVNode)(m,{effect:"dark",content:"新建动画",placement:"left"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(d,{circle:"",size:"large",type:"info",style:{"margin-top":"7px"},onClick:k},{default:Object(n.withCtx)(()=>[T]),_:1})]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"保存视角",placement:"left"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(d,{circle:"",size:"large",type:"info",style:{"margin-top":"7px","margin-left":"2px"},onClick:B},{default:Object(n.withCtx)(()=>[G]),_:1})]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"播放动画",placement:"left"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(d,{circle:"",size:"large",type:"info",style:{"margin-top":"7px","margin-left":"2px"},onClick:E},{default:Object(n.withCtx)(()=>[U]),_:1})]),_:1})]),Object(n.createVNode)(H,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),onTabClick:N,onTabRemove:_},{default:Object(n.withCtx)(()=>[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(o.value,(e,t)=>(Object(n.openBlock)(),Object(n.createBlock)(D,{key:t,label:e.name,name:e.name,closable:""},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(M,null,{default:Object(n.withCtx)(()=>[Object(n.createElementVNode)("div",R,[Object(n.createVNode)(V,{modelValue:e.selIndex,"onUpdate:modelValue":t=>e.selIndex=t},{default:Object(n.withCtx)(()=>[(Object(n.openBlock)(!0),Object(n.createElementBlock)(n.Fragment,null,Object(n.renderList)(e.paths,(e,a)=>(Object(n.openBlock)(),Object(n.createBlock)(v,{label:a,key:a,class:"scrollbar-demo-item",onChange:e=>{var n=t,l=a;c.a.scene.curPathAnimation=c.a.scene.pathAnimations[n],c.a.scene.curPathAnimation.selIndex=l,n=c.a.scene.curPathAnimation.paths[c.a.scene.curPathAnimation.selIndex],c.a.scene.flyTo(n.position.x,n.position.y,n.position.z,n.target.x,n.target.y,n.target.z)}},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(p,{"body-style":{padding:"0px"},shadow:"hover"},{default:Object(n.withCtx)(()=>[Object(n.createElementVNode)("img",{class:"image",src:e.url},null,8,J)]),_:2},1024)]),_:2},1032,["label","onChange"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),Object(n.createVNode)(K,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),size:"large"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(m,{effect:"dark",content:"主视图",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(d,{icon:Object(n.unref)(i),color:"#4b4b4b",size:"large",onClick:s,style:{"border-radius":"0"}},null,8,["icon"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"全屏",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:b,key:l[0],label:l[0]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(u),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"正交",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:O,key:l[1],label:l[1]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(j),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"剖切",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:h,key:l[2],label:l[2]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(f),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"测量",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:Z,key:l[3],label:l[3]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(w),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"漫游",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:C,key:l[4],label:l[4]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(x),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"录制",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:g,key:l[5],label:l[5]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(z),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"材质编辑",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:S,key:l[6],label:l[6]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(y),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1}),Object(n.createVNode)(m,{effect:"dark",content:"显示地图",placement:"top"},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(q,{onChange:Q,key:l[8],label:l[8]},{default:Object(n.withCtx)(()=>[Object(n.createVNode)(L,null,{default:Object(n.withCtx)(()=>[Object(n.createVNode)(Object(n.unref)(A),{size:"large"})]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["modelValue"])])}}}),a("7586"),t.default=l},7586:function(e,t,a){"use strict";a("afc1")},"9ee5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=(e,t)=>{var a,n,c=e.__vccOpts||e;for([a,n]of t)c[a]=n;return c}},afc1:function(e,t,a){}}]);