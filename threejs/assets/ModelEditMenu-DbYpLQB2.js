import{d as z,r as m,X as M,a as i,b as u,c as g,e as o,w as l,h as n,F as C,f as S,t as V,j as w,a9 as k,a3 as y,o as D,u as E,a7 as P,Y as U}from"./index-Drk0v8yT.js";const B={class:"material-list-wrapper"},L={class:"material-list"},N={class:"material-item-wp"},j={class:"material-item"},$={class:"preview-img-wrap"},F=["alt","src","onDragend"],q=n("div",{class:"preview-img-cover"},null,-1),A={class:"title"},G={class:"pagination-container"},O=z({__name:"ModelLib",setup(I,{expose:v}){let r=[];const c=m([]);fetch("./model/model.json").then(t=>t.json()).then(t=>{r=t,d.value=t.length,_(1)});const d=m(),e=M({address:"",name:"",pageIndex:1,pageSize:20}),_=t=>{e.pageIndex=t;let s=(e.pageIndex-1)*e.pageSize<0?0:(e.pageIndex-1)*e.pageSize,a=e.pageIndex*e.pageSize>d.value?d.value:e.pageIndex*e.pageSize;c.value=r.slice(s,a)},f=t=>{t.preventDefault()},h=(t,s)=>{t.preventDefault();let a=w.scene.raycaster.getIntersectPointByGPU(t);a&&(console.log(a),w.scene.showPoint(a.x,a.y,a.z),k.insertExternalModel(s.modelUrl,a).then(x=>{y.instance&&y.instance.setElemet(x),w.scene.enableRender()}))};return v({}),(t,s)=>{const a=i("el-scrollbar"),x=i("el-pagination");return u(),g("div",B,[o(a,null,{default:l(()=>[n("div",L,[(u(!0),g(C,null,S(c.value,p=>(u(),g("div",{class:"material-item-container",key:p.index},[n("div",N,[n("div",j,[n("div",$,[n("img",{class:"previewImg",alt:p.name,src:p.previewUrl,draggable:!0,onDrag:s[0]||(s[0]=b=>f(b)),onDragend:b=>h(b,p)},null,40,F),q])])]),n("div",A,V(p.name),1)]))),128))])]),_:1}),n("div",G,[o(x,{layout:"prev, pager, next","current-page":e.pageIndex,"page-size":e.pageSize,total:d.value,onCurrentChange:_},null,8,["current-page","page-size","total"])])])}}}),R={key:0,class:"editMenu"},T={class:"custom-tabs-label"},Y=z({__name:"ModelEditMenu",setup(I,{expose:v}){const r=m(!1),c=m("first");return D(()=>{}),v({dialogVisible:r}),(d,e)=>{const _=i("el-icon"),f=i("el-tooltip"),h=i("el-tab-pane"),t=i("el-tabs");return r.value?(u(),g("div",R,[o(t,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"border-card","tab-position":"left"},{default:l(()=>[o(h,{name:"first"},{label:l(()=>[o(f,{effect:"dark",content:"材质库",placement:"right"},{default:l(()=>[n("span",T,[o(_,null,{default:l(()=>[o(E(P))]),_:1})])]),_:1})]),default:l(()=>[o(O)]),_:1})]),_:1},8,["modelValue"])])):U("",!0)}}});export{Y as default};
