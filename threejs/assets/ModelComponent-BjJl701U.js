import{d as g,X as w,V as b,r as B,a as Y,b as k,c as N,e as a,w as r,a2 as d,Y as z,a3 as C,j as K,p as U,l as I,h as A,a4 as D,_ as P}from"./index-Drk0v8yT.js";const E=V=>(U("data-v-a8c275ee"),V=V(),I(),V),F={key:0,class:"modelData"},Q=E(()=>A("div",{class:"modelData-header"}," 模型编辑 ",-1)),j=g({__name:"ModelComponent",setup(V,{expose:X}){const o=w({locationX:0,locationY:0,locationZ:0,RotationX:0,RotationY:0,RotationZ:0,ScaleX:0,ScaleY:0,ScaleZ:0});let i,x;const R=(l,e)=>{l&&(o.locationX=Math.round(l.position.x*1e3),o.locationY=Math.round(l.position.y*1e3),o.locationZ=Math.round(l.position.z*1e3),o.RotationX=Math.round(l.euler.x*180/Math.PI*100)/100,o.RotationY=Math.round(l.euler.y*180/Math.PI*100)/100,o.RotationZ=Math.round(l.euler.z*180/Math.PI*100)/100,o.ScaleX=Math.round(l.scale.x*1e3)/1e3,o.ScaleY=Math.round(l.scale.y*1e3)/1e3,o.ScaleZ=Math.round(l.scale.z*1e3)/1e3),i=l,x=e},u=(l,e)=>{if(e=Number(e),!isNaN(e)&&i){let n=i.position,s=new b;switch(e/=1e3,l){case 0:s.x=e-n.x;break;case 1:s.y=e-n.y;break;case 2:s.z=e-n.z;break}i.multiplyPosition(s),y(event)}},f=new D(0,0,0,1),Z=new b(1,0,0),v=new b(0,1,0),$=new b(0,0,1),p=(l,e)=>{if(e=Number(e),!isNaN(e)&&i){e=e*Math.PI/180;let n=i.euler;switch(l){case 0:f.setFromAxisAngle(Z,e-n.x);break;case 1:f.setFromAxisAngle(v,e-n.y);break;case 2:f.setFromAxisAngle($,e-n.z);break}i.multiplyQuaternion(f),y(event)}},m=(l,e)=>{if(e=Number(e),!(isNaN(e)||e==0)&&i){let n=i.scale.clone();switch(l){case 0:n.x=e/n.x,n.y=1,n.z=1;break;case 1:n.x=1,n.y=e/n.y,n.z=1;break;case 2:n.x=1,n.y=1,n.z=e/n.z;break}i.multiplyScale(n),y(event)}},y=l=>{x&&i&&(i.computeBoundingSphere(),x.setElemet(i),C.instance.showDistance(i)),K.scene.enableRender(),l.target.blur()},S=B(!1);return X({dialogVisible:S,showModelData:R}),(l,e)=>{const n=Y("el-input"),s=Y("el-form-item"),M=Y("el-form");return S.value?(k(),N("div",F,[Q,a(M,{size:"small","label-position":"right","label-width":"100px",model:o,style:{"margin-left":"10px","margin-right":"10px","margin-top":"5px","margin-bottom":"5px"}},{default:r(()=>[a(s,{label:"（位置mm）X："},{default:r(()=>[a(n,{modelValue:o.locationX,"onUpdate:modelValue":e[0]||(e[0]=t=>o.locationX=t),onBlur:e[1]||(e[1]=t=>u(0,o.locationX)),onKeyup:e[2]||(e[2]=d(t=>u(0,o.locationX),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Y："},{default:r(()=>[a(n,{modelValue:o.locationY,"onUpdate:modelValue":e[3]||(e[3]=t=>o.locationY=t),onBlur:e[4]||(e[4]=t=>u(1,o.locationY)),onKeyup:e[5]||(e[5]=d(t=>u(1,o.locationY),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Z："},{default:r(()=>[a(n,{modelValue:o.locationZ,"onUpdate:modelValue":e[6]||(e[6]=t=>o.locationZ=t),onBlur:e[7]||(e[7]=t=>u(2,o.locationZ)),onKeyup:e[8]||(e[8]=d(t=>u(2,o.locationZ),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"（旋转）X："},{default:r(()=>[a(n,{modelValue:o.RotationX,"onUpdate:modelValue":e[9]||(e[9]=t=>o.RotationX=t),onBlur:e[10]||(e[10]=t=>p(0,o.RotationX)),onKeyup:e[11]||(e[11]=d(t=>p(0,o.RotationX),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Y："},{default:r(()=>[a(n,{modelValue:o.RotationY,"onUpdate:modelValue":e[12]||(e[12]=t=>o.RotationY=t),onBlur:e[13]||(e[13]=t=>p(1,o.RotationY)),onKeyup:e[14]||(e[14]=d(t=>p(1,o.RotationY),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Z："},{default:r(()=>[a(n,{modelValue:o.RotationZ,"onUpdate:modelValue":e[15]||(e[15]=t=>o.RotationZ=t),onBlur:e[16]||(e[16]=t=>p(2,o.RotationZ)),onKeyup:e[17]||(e[17]=d(t=>p(2,o.RotationZ),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"（缩放）X："},{default:r(()=>[a(n,{modelValue:o.ScaleX,"onUpdate:modelValue":e[18]||(e[18]=t=>o.ScaleX=t),onBlur:e[19]||(e[19]=t=>m(0,o.ScaleX)),onKeyup:e[20]||(e[20]=d(t=>m(0,o.ScaleX),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Y："},{default:r(()=>[a(n,{modelValue:o.ScaleY,"onUpdate:modelValue":e[21]||(e[21]=t=>o.ScaleY=t),onBlur:e[22]||(e[22]=t=>m(1,o.ScaleY)),onKeyup:e[23]||(e[23]=d(t=>m(1,o.ScaleY),["enter","native"]))},null,8,["modelValue"])]),_:1}),a(s,{label:"Z："},{default:r(()=>[a(n,{modelValue:o.ScaleZ,"onUpdate:modelValue":e[24]||(e[24]=t=>o.ScaleZ=t),onBlur:e[25]||(e[25]=t=>m(2,o.ScaleY)),onKeyup:e[26]||(e[26]=d(t=>m(2,o.ScaleY),["enter","native"]))},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):z("",!0)}}}),L=P(j,[["__scopeId","data-v-a8c275ee"]]);export{L as default};
