const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CarouselMenu-Cf89NcYP.js","./index-Drk0v8yT.js","./index-BCiRsHgl.css","./CarouselMenu-DycsaLFE.css"])))=>i.map(i=>d[i]);
import{d as j,o as q,j as o,r as M,a as g,b as c,c as H,q as J,v as K,e as t,u as i,w as l,s as N,g as p,x as U,y as Q,z as W,B as X,D as Y,E as Z,G as $,H as ee,I as ae,O as _,J as te,K as le,L as oe}from"./index-Drk0v8yT.js";const ne={class:"toolbar"},re=j({__name:"Toolbar",setup(se,{expose:w}){q(()=>{E("显示地图",o.scene.showMap)});const B=ae(()=>oe(()=>import("./CarouselMenu-Cf89NcYP.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),z=M(null),d=M([""]),s=["全屏","正交","剖切","测量","漫游","录制","材质编辑","模型编辑","显示地图"],V=()=>{for(const e of o.scene.mapModels.values()){let u=e.boundingBox.clone();u.applyMatrix4(e.rootObject.matrix),o.scene.setCameraByBoxAndRotateTo(u,2*Math.PI,Math.PI/4);break}};let v=!1;const G=e=>{v=!v;let u=document.documentElement;v?u.requestFullscreen():document.exitFullscreen()};let k=!1;const F=e=>{k=!k,o.scene.setOrthogonal(k)};let C=!1;const O=e=>{C=!C,o.scene.setSection(C)};let b=!1;const P=e=>{b=!b,b?o.runCommand(_.Roam):o.runCommand(_.Base)},h=M(!1),R=e=>{h.value=!h.value,h.value?o.runCommand(_.Carousel):o.runCommand(_.Base)};let y=!1;const I=()=>{if(y=!y,y){o.runCommand(_.MaterialEdit);let e=[];d.value.forEach(u=>{u!=s[7]&&e.push(u)}),d.value=e}else o.runCommand(_.Base)};let n;const S=()=>{o.scene.showMap=!o.scene.showMap,x()},x=()=>{if(n==null){let e={经度:0,维度:0,高度:0,角度:0},u=document.getElementById("container");u.style.marginLeft,n=new te,n.domElement.style.position="absolute",n.domElement.style.left="50%",n.domElement.style.top="5px",n.domElement.style.marginLeft="-122px",u.appendChild(n.domElement),u.style.display,n.root.title("经纬度设置"),n.add(e,"经度",-180,180).onFinishChange(r=>{for(const a of o.scene.mapModels.values()){a.gisData.longitude=r,a.setGisData(a.gisData);break}}),n.add(e,"维度",-90,90).onFinishChange(r=>{for(const a of o.scene.mapModels.values()){a.gisData.latitude=r,a.setGisData(a.gisData);break}}),n.add(e,"高度",-1e3,1e3).onFinishChange(r=>{for(const a of o.scene.mapModels.values()){a.gisData.height=r,a.setGisData(a.gisData);break}}),n.add(e,"角度",-180,180).onFinishChange(r=>{for(const a of o.scene.mapModels.values()){a.gisData.rotation=r,a.setGisData(a.gisData);break}})}if(o.scene.showMap){for(const e of o.scene.mapModels.values()){e.gisData==null&&(e.gisData=new le,e.setGisData(e.gisData)),n.children[0].setValue(e.gisData.longitude),n.children[1].setValue(e.gisData.latitude),n.children[2].setValue(e.gisData.height),n.children[3].setValue(e.gisData.rotation);break}n.domElement.style.display=""}else n.domElement.style.display="none";o.scene.enableRender()},E=(e,u)=>{if(e=="显示地图"&&x(),u==!0){d.value.indexOf(e)==-1&&d.value.push(e);return}let r=[];d.value.forEach(a=>{u==!1&&a!=e&&r.push(a)}),d.value=r};let D=!1;const T=e=>{D=!D,D?o.runCommand(_.Measure):o.runCommand(_.Base)};return w({showToolbar:E}),(e,u)=>{const r=g("el-button"),a=g("el-tooltip"),f=g("el-icon"),m=g("el-checkbox-button"),A=g("el-checkbox-group");return c(),H("div",ne,[J(t(i(B),{ref_key:"carouselMenuRef",ref:z},null,512),[[K,h.value]]),t(A,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=L=>d.value=L),size:"large"},{default:l(()=>[t(a,{effect:"dark",content:"主视图",placement:"top"},{default:l(()=>[t(r,{icon:i(N),color:"#4b4b4b",size:"large",onClick:V,style:{"border-radius":"0"}},null,8,["icon"])]),_:1}),t(a,{effect:"dark",content:"全屏",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:G,key:s[0],value:s[0]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(U),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"正交",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:F,key:s[1],value:s[1]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(Q),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"剖切",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:O,key:s[2],value:s[2]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(W),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"测量",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:T,key:s[3],value:s[3]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(X),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"漫游",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:P,key:s[4],value:s[4]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(Y),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"录制",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:R,key:s[5],value:s[5]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(Z),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"材质编辑",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:I,key:s[6],value:s[6]},{default:l(()=>[t(f,null,{default:l(()=>[t(i($),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1}),t(a,{effect:"dark",content:"显示地图",placement:"top"},{default:l(()=>[(c(),p(m,{onChange:S,key:s[8],value:s[8]},{default:l(()=>[t(f,null,{default:l(()=>[t(i(ee),{size:"large"})]),_:1})]),_:1},8,["value"]))]),_:1})]),_:1},8,["modelValue"])])}}});export{re as default};
